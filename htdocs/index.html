<!DOCTYPE html>
<html>
<head>
<meta charset='utf-8' />
<link href='tools/fullcalendar/fullcalendar.css' rel='stylesheet' />
<link href='tools/fullcalendar/fullcalendar.print.css' rel='stylesheet' media='print' />
<script src='tools/fullcalendar/lib/moment.min.js'></script>
<script src='tools/fullcalendar/lib/jquery.min.js'></script>
<script src='tools/fullcalendar/fullcalendar.js'></script>
<script>

	$(document).ready(function() {
		$.getJSON("data/_sources.json", function(data) {
			$('#calendar').fullCalendar({
				firstDay: 1, // week starts on a Monday
				header: {
					left: 'prev,next today',
					center: 'title',
					right: 'month,agendaWeek,agendaDay'
				},
				defaultView: 'month',
				eventLimit: true, // allow "more" link when too many events
				eventSources: data
			});
			var legend = [];
			$.each( data, function( key, val ) {
				legend.push("<li>" + val["title"] + " <span class=\"legend_box\" style=\"background: " + val["color"] + ";\"></span></li>")
			});
			$("#legend").html(legend.join(""));
		});

	});

</script>
<style>

	body {
		margin: 40px 10px;
		padding: 0;
		font-family: "Lucida Grande",Helvetica,Arial,Verdana,sans-serif;
		font-size: 14px;
	}

	#container {
		max-width: 900px;
		margin: 0 auto;
	}

	.legend_box {
		display: inline-block;
		width: 0.9em;
		height: 0.9em;
	}
</style>
</head>
<body>
	<div id="container">
		<h1>Munich Makes</h1>
		<p>Home of the Munich Maker Community</p>
		<p>
			Im Kalender sind bisher:
			<ul id="legend"></ul>
		</p>
		<div id='calendar'></div>
	</div>
</body>
</html>
